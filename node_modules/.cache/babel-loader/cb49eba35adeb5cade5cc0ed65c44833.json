{"ast":null,"code":"var _jsxFileName = \"/Users/avrambillig/Desktop/projects/art-interactive/src/UploadView.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport './UploadView.scss';\nimport React, { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function postImage(_ref) {\n  let {\n    image,\n    description\n  } = _ref;\n  const formData = new FormData();\n  formData.append(\"image\", image);\n  formData.append(\"description\", description);\n  console.log('sup');\n  const result = await axios.post('http://localhost:3005/images', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  return result.data;\n}\n\nconst onDrop = useCallback(acceptedFiles => {// Do something with the files\n}, []);\nconst {\n  getRootProps,\n  getInputProps,\n  isDragActive\n} = useDropzone({\n  onDrop\n});\n\nfunction UploadView() {\n  _s();\n\n  const [file, setFile] = useState();\n  const [description, setDescription] = useState(\"\");\n  const [images, setImages] = useState([]);\n\n  const submit = async event => {\n    event.preventDefault();\n    const result = await postImage({\n      image: file,\n      description\n    });\n    setImages([result.image, ...images]);\n  };\n\n  const fileSelected = event => {\n    const file = event.target.files[0];\n    setFile(file);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"uploadView\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: fileSelected,\n        type: \"file\",\n        accept: \"image/*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), images.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, image, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"http://localhost:3005/images/4b21572383c2863867710123b1c4ed39\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", { ...getRootProps(),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", { ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), isDragActive ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Drop the files here ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Drag 'n' drop some files here, or click to select files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UploadView, \"okpFgTUxlqKEvIvA0VqXAexb4qg=\");\n\n_c = UploadView;\nexport default UploadView;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadView\");","map":{"version":3,"names":["useState","axios","React","useCallback","useDropzone","postImage","image","description","formData","FormData","append","console","log","result","post","headers","data","onDrop","acceptedFiles","getRootProps","getInputProps","isDragActive","UploadView","file","setFile","setDescription","images","setImages","submit","event","preventDefault","fileSelected","target","files","e","value","map"],"sources":["/Users/avrambillig/Desktop/projects/art-interactive/src/UploadView.js"],"sourcesContent":["import { useState } from 'react'\nimport axios from 'axios'\n\nimport './UploadView.scss'\n\nimport React, {useCallback} from 'react'\nimport {useDropzone} from 'react-dropzone'\n\nasync function postImage({image, description}) {\n  const formData = new FormData();\n  formData.append(\"image\", image)\n  formData.append(\"description\", description)\n\n  console.log('sup')\n\n  const result = await axios.post('http://localhost:3005/images', formData, { headers: {'Content-Type': 'multipart/form-data'}})\n  return result.data\n}\n\nconst onDrop = useCallback(acceptedFiles => {\n    // Do something with the files\n  }, [])\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n\n\nfunction UploadView() {\n\n  const [file, setFile] = useState()\n  const [description, setDescription] = useState(\"\")\n  const [images, setImages] = useState([])\n\n  const submit = async event => {\n    event.preventDefault()\n    const result = await postImage({image: file, description})\n    setImages([result.image, ...images])\n  }\n\n  const fileSelected = event => {\n    const file = event.target.files[0]\n\t\tsetFile(file)\n\t}\n\n  return (\n    <div className=\"uploadView\">\n      <form onSubmit={submit}>\n        <input onChange={fileSelected} type=\"file\" accept=\"image/*\"></input>\n        <input value={description} onChange={e => setDescription(e.target.value)} type=\"text\"></input>\n        <button type=\"submit\">Submit</button>\n      </form>\n\n      { images.map( image => (\n        <div key={image}>\n          <img src={image}></img>\n        </div>\n      ))}\n      \n      <img src=\"http://localhost:3005/images/4b21572383c2863867710123b1c4ed39\"></img>\n      <div {...getRootProps()}>\n      <input {...getInputProps()} />\n      {\n        isDragActive ?\n          <p>Drop the files here ...</p> :\n          <p>Drag 'n' drop some files here, or click to select files</p>\n      }\n    </div>\n    </div>\n  );\n}\n\nexport default UploadView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}